<html>
<head>
<title>Top 20 AWK Command in UNIX/LINUX with Examples [Updated]</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>UNIX/LINUX中的20大AWK命令及其示例[更新]</h1>
<blockquote>原文：<a href="https://hackr.io/blog/awk-command-unix-linux-examples#0001-01-01">https://hackr.io/blog/awk-command-unix-linux-examples#0001-01-01</a></blockquote><div><div class="content">
										<h2 id="what-is-awk">什么是AWK？</h2>
<p>它是一种脚本语言，被认为是Linux环境中最强大的命令。它不需要任何编译，通过处理一些文件然后分析这些文件来生成报告。它用于操作数据，因此适用于模式搜索和处理。</p>
<h2 id="what-operations-can-awk-perform">AWK能做什么手术？</h2>
<ul>
<li>逐行扫描文件。</li>
<li>将输入记录拆分成字段</li>
<li>将字段与模式进行比较</li>
<li>对动作匹配模式执行</li>
</ul>
<h2 id="how-is-awk-command-useful-in-linux-and-unix">AWK命令在Linux和Unix中有什么用处？</h2>
<ul>
<li>它有助于根据用户要求操作数据文件。</li>
<li>它生成格式化的输出。</li>
</ul>
<h2 id="what-are-the-various-program-constructs-that-awk-offers">AWK提供的各种程序结构是什么？</h2>
<p>AWK提供的各种编程概念有:</p>
<ul>
<li>输出格式</li>
<li>内置变量</li>
<li>模式匹配</li>
<li>字符串操作</li>
<li>算术运算</li>
</ul>
<h2 id="basic-syntax-of-awk-command">AWK命令的基本语法</h2>
<pre>$ awk options 'selection _criteria ' input-file &gt; output-file</pre>
<h2 id="various-awk-commands">各种AWK命令</h2>
<p>考虑名为sample.txt的示例文本文件中的以下数据表</p>
<table>
<tbody>
<tr>
<td><strong> ID </strong></td>
<td><strong>名称</strong></td>
<td><strong>年龄</strong></td>
<td><strong>公司</strong></td>
<td><strong>技能</strong></td>
</tr>
<tr>
<td>101</td>
<td>约翰</td>
<td>28</td>
<td>苹果</td>
<td>ios</td>
</tr>
<tr>
<td>102</td>
<td>克莉丝</td>
<td>33</td>
<td>隔壁</td>
<td>机器人</td>
</tr>
<tr>
<td>103</td>
<td>史密斯（姓氏）</td>
<td>45</td>
<td>脸谱网</td>
<td>哈斯克尔</td>
</tr>
<tr>
<td>104</td>
<td>插口</td>
<td>33</td>
<td>苹果</td>
<td>Java 语言(一种计算机语言，尤用于创建网站)</td>
</tr>
<tr>
<td>105</td>
<td>五月</td>
<td>27</td>
<td>谷歌</td>
<td>计算机编程语言</td>
</tr>
</tbody>
</table>
<h3 id="toc-1-printing-the-table-line-by-line"><strong> 1。逐行打印表格</strong></h3>
<pre>$ awk ‘’    sample.txt</pre>
<p>上面的命令打印文件的每一行。</p>

<table>
<tbody>
<tr>
<td><strong> ID </strong></td>
<td><strong>名称</strong></td>
<td><strong>年龄</strong></td>
<td><strong>公司</strong></td>
<td><strong>技能</strong></td>
</tr>
<tr>
<td>101</td>
<td>约翰</td>
<td>28</td>
<td>苹果</td>
<td>ios</td>
</tr>
<tr>
<td>102</td>
<td>克莉丝</td>
<td>33</td>
<td>隔壁</td>
<td>机器人</td>
</tr>
<tr>
<td>103</td>
<td>史密斯（姓氏）</td>
<td>45</td>
<td>脸谱网</td>
<td>哈斯克尔</td>
</tr>
<tr>
<td>104</td>
<td>插口</td>
<td>33</td>
<td>苹果</td>
<td>Java 语言(一种计算机语言，尤用于创建网站)</td>
</tr>
<tr>
<td>105QQ</td>
<td>五月</td>
<td>27</td>
<td>谷歌</td>
<td>计算机编程语言</td>
</tr>
</tbody>
</table>
<h3 id="toc-2-printing-table-row-wise"><strong> 2。按行打印表格</strong></h3>
<pre>$ awk ‘’ sample.txt<br/>$ awk ‘’    sample.txt</pre>
<p>上面的代码打印了表格的所有行。</p>
<table>
<tbody>
<tr>
<td><strong> ID </strong></td>
<td><strong>名称</strong></td>
<td><strong>年龄</strong></td>
<td><strong>公司</strong></td>
<td><strong>技能</strong></td>
</tr>
<tr>
<td>101</td>
<td>约翰</td>
<td>28</td>
<td>苹果</td>
<td>ios</td>
</tr>
<tr>
<td>102</td>
<td>克莉丝</td>
<td>33</td>
<td>隔壁</td>
<td>机器人</td>
</tr>
<tr>
<td>103</td>
<td>史密斯（姓氏）</td>
<td>45</td>
<td>脸谱网</td>
<td>哈斯克尔</td>
</tr>
<tr>
<td>104</td>
<td>插口</td>
<td>33</td>
<td>苹果</td>
<td>Java 语言(一种计算机语言，尤用于创建网站)</td>
</tr>
<tr>
<td>105</td>
<td>五月</td>
<td>27</td>
<td>谷歌</td>
<td>计算机编程语言</td>
</tr>
</tbody>
</table>
<h3 id="toc-3-printing-columns"><strong> 3。打印列</strong></h3>
<pre>$ awk ‘’    sample.txt</pre>
<p>上面的代码打印表格的第一列。</p>

<p>类似地，我们可以打印表格的其他列。</p>
<pre>$ awk ‘’    sample.txt</pre>
<p>打印第二列</p>
<table>
<tbody>
<tr>
<td><strong>名称</strong></td>
</tr>
<tr>
<td>约翰</td>
</tr>
<tr>
<td>克莉丝</td>
</tr>
<tr>
<td>史密斯（姓氏）</td>
</tr>
<tr>
<td>插口</td>
</tr>
<tr>
<td>五月</td>
</tr>
</tbody>
</table>
<pre>$ awk ‘’    sample.txt</pre>
<p>打印第三列</p>

<h3 id="toc-4-printing-matched-pattern"><strong> 4。打印匹配图案</strong></h3>
<p>将要匹配的特定模式放在正斜杠内，以打印匹配特定模式的行。语法:</p>

<pre>$ awk ‘’    sample.txt<br/>$ awk '/variable_to_be_matched/ '   file.txt</pre>
<p>示例:打印字段中包含Apple的数据。</p>
<pre>$ awk '/Apple/ '   sample.txt</pre>
<p>上述命令打印以下行:</p>
<table>
<tbody>
<tr>
<td>101</td>
<td>约翰</td>
<td>28</td>
<td>苹果</td>
<td>ios</td>
</tr>
<tr>
<td>104</td>
<td>插口</td>
<td>33</td>
<td>苹果</td>
<td>Java 语言(一种计算机语言，尤用于创建网站)</td>
</tr>
</tbody>
</table>
<h3 id="toc-5-inbuilt-variables"><strong> 5。内置变量</strong></h3>
<p>AWK提供了一些有助于操纵和分析数据的内置变量。列出了一些内置变量。</p>
<h4 id="toc-5-1-nr"><strong> 5.1。NR </strong></h4>
<p>该变量返回包含当前输入记录数的行。</p>
<pre>$ awk ‘’ sample.txt</pre>
<p>上面的命令计算数据中输入记录的数量。在本例中，该表总共包含六条记录。</p>
<table>
<tbody>
<tr>
<td><strong> 1 </strong></td>
<td><strong> ID </strong></td>
<td><strong>名称</strong></td>
<td><strong>年龄</strong></td>
<td><strong>公司</strong></td>
<td><strong>技能</strong></td>
</tr>
<tr>
<td>2</td>
<td>101</td>
<td>约翰</td>
<td>28</td>
<td>苹果</td>
<td>ios</td>
</tr>
<tr>
<td>3</td>
<td>102</td>
<td>克莉丝</td>
<td>33</td>
<td>隔壁</td>
<td>机器人</td>
</tr>
<tr>
<td>四</td>
<td>103</td>
<td>史密斯（姓氏）</td>
<td>45</td>
<td>脸谱网</td>
<td>哈斯克尔</td>
</tr>
<tr>
<td>5</td>
<td>104</td>
<td>插口</td>
<td>33</td>
<td>苹果</td>
<td>Java 语言(一种计算机语言，尤用于创建网站)</td>
</tr>
<tr>
<td>6</td>
<td>105</td>
<td>五月</td>
<td>27</td>
<td>谷歌</td>
<td>计算机编程语言</td>
</tr>
</tbody>
</table>
<h4 id="toc-5-2-nf">5.2。NF </h4>
<p>该变量打印每条记录的字段计数。</p>
<pre>$ awk ‘’ sample.txt</pre>
<p>上面的命令打印表格的最后一列。</p>
<h4 id="toc-5-3-nf">5.3。$NF </h4>
<p>该变量返回表的最后一列</p>
<pre>$ awk ‘’ sample.txt</pre>
<table>
<tbody>
<tr>
<td><strong>技能</strong></td>
</tr>
<tr>
<td>ios</td>
</tr>
<tr>
<td>机器人</td>
</tr>
<tr>
<td>哈斯克尔</td>
</tr>
<tr>
<td>Java 语言(一种计算机语言，尤用于创建网站)</td>
</tr>
<tr>
<td>计算机编程语言</td>
</tr>
</tbody>
</table>
<p>同样，我们可以打印表格的倒数第二列和倒数第三列。</p>
<pre>$ awk ‘’ sample.txt</pre>
<table>
<tbody>
<tr>
<td><strong>名称</strong></td>
<td><strong>公司</strong></td>
</tr>
<tr>
<td>约翰</td>
<td>苹果</td>
</tr>
<tr>
<td>克莉丝</td>
<td>隔壁</td>
</tr>
<tr>
<td>史密斯（姓氏）</td>
<td>脸谱网</td>
</tr>
<tr>
<td>插口</td>
<td>苹果</td>
</tr>
<tr>
<td>五月</td>
<td>谷歌</td>
</tr>
</tbody>
</table>
<pre>$ awk ‘’ sample.txt</pre>
<table>
<tbody>
<tr>
<td><strong>名称</strong></td>
<td><strong>年龄</strong></td>
</tr>
<tr>
<td>约翰</td>
<td>28</td>
</tr>
<tr>
<td>克莉丝</td>
<td>33</td>
</tr>
<tr>
<td>史密斯（姓氏）</td>
<td>45</td>
</tr>
<tr>
<td>插口</td>
<td>33</td>
</tr>
<tr>
<td>五月</td>
<td>27</td>
</tr>
</tbody>
</table>
<h4 id="toc-5-4-ors-output-record-separator">5.4。ORS (  <strong>)输出记录分隔符</strong></h4>
<p>该变量以所需的输出格式分隔每条记录。</p>
<pre>$ awk ‘ BEGIN ’    sample.txt</pre>
<p>打印以下输出:</p>
<pre>ID  Name  Age  Company  Skill: 101  John  28  Apple  iOS:  102  Chris  33  NextDoor  Android: 103  Smith  45  Facebook Haskell:  104  Jack 33  Apple  Java: 105  May 27  Google  Python:</pre>
<h4 id="toc-5-5-ofs"><strong> 5.5。OFS </strong></h4>
<p>输出字段分隔符该变量以所需的输出格式分隔每个字段。</p>
<pre>$ awk ‘ BEGIN ’    sample.txt<br/>$ awk ‘ BEGIN ’    sample.txt</pre>
<pre><strong>ID==Name<br/></strong>101==John<br/>102==Chris<br/>103==Smith<br/>104==Jack<br/>105==May</pre>
<pre>$ awk ‘ BEGIN ’    sample.txt</pre>
<h4 id="toc-5-6-rs">5.6。RS </h4>
<p>它是当前记录分隔符。默认的记录分隔符是换行符，因为在默认情况下，输入行就是输入记录。</p>
<pre>RS$ awk ‘ BEGIN ’    sample.tx</pre>
<h3 id="toc-6-if-command"><strong> 6。IF命令</strong></h3>
<p>该命令对数据集应用条件，并打印满足条件的数据。语法:</p>
<pre>$ awk ‘{ if(condition) } END  ’ file.txt</pre>
<p>示例:打印文件中最长一行的长度。</p>
<pre>$ awk '{ if (length($0) &gt; max) max = length($0) } END { print max }' sample.txt</pre>
<h3 id="toc-7-string-operations"><strong> 7。字符串操作</strong></h3>
<p>我们还可以用AWK命令对文件进行字符串操作。语法:</p>
<pre>$ awk ‘{ if(condition) print $0}’ sample.txt</pre>
<p>示例:</p>
<pre>$ awk ‘{ if($1 == “John” ) print $0}’   sample.txt</pre>
<p>上面的代码打印任何字段包含“John”的行。</p>

<pre>$ awk ‘{ if($1 == “Apple” ) print $0}’   sample.txt</pre>
<p>上面的代码打印任何包含“Apple”的字段的行</p>
<table>
<tbody>
<tr>
<td>101</td>
<td>约翰</td>
<td>28</td>
<td>苹果</td>
<td>ios</td>
</tr>
<tr>
<td>104</td>
<td>插口</td>
<td>33</td>
<td>苹果</td>
<td>Java 语言(一种计算机语言，尤用于创建网站)</td>
</tr>
</tbody>
</table>
<p><a class="btn btn-primary btn-call-to-action " href="https://click.linksynergy.com/deeplink?id=jU79Zysihs4&amp;mid=39197&amp;murl=https%3A%2F%2Fwww.udemy.com%2Fcourse%2Flinux-commands%2F" target="_blank" rel="noopener"> Linux命令行，Bash Shell，脚本AWK &amp;基于Linux的SED</a></p>
<h3 id="toc-8-length"><strong> 8。长度</strong></h3>
<p>该命令计算每行字符的长度。示例:打印超过十个字符的行</p>
<pre>$ awk ‘length($0) &gt; 24 ’   sample.txt</pre>
<p>上面的命令打印字符长度大于24的行。</p>
<table>
<tbody>
<tr>
<td>102</td>
<td>克莉丝</td>
<td>33</td>
<td>隔壁</td>
<td>机器人</td>
</tr>
<tr>
<td>103</td>
<td>史密斯（姓氏）</td>
<td>45</td>
<td>脸谱网</td>
<td>哈斯克尔</td>
</tr>
</tbody>
</table>
<h3 id="toc-9-count"><strong> 9。计数</strong></h3>
<p>计算文件中的行数</p>
<pre>$ awk ‘END ’   sample.txt</pre>
<p>因为文件中有六行，所以打印为六。6</p>
<h3 id="toc-10-for">10。对于</h3>
<p>打印从1到n的第一个数字的平方。让n = 5</p>
<pre>$ awk 'BEGIN { for(i=1;i&lt;=6;i++) print "square of", i, "is",i*i; }'</pre>
<p>输出:</p>

<pre>square of 1 is 1<br/>square of 2 is 4<br/>square of 3 is 9<br/>square of 4 is 16<br/>square of 5 is 25</pre>
<h3 id="toc-11-non-empty-line"><strong> 11。非空行</strong></h3>
<p>$ awk ' NF &gt; 0 ' sample.txt输出:0</p>
<h3 id="toc-12-arithmetic-operations"><strong> 12。算术运算</strong></h3>
<p>如果表格元素是数字，AWK命令允许执行算术运算。</p>
<pre>$ awk ‘ ’   sample.txt</pre>
<p>输出:</p>

<h3 id="toc-13-saving-output">13。保存输出</h3>
<p>使用重定向操作符“&gt;”保存输出结果。可以使用cat命令来验证结果。</p>
<pre>$ cat output.txt</pre>
<h2 id="conclusion"><strong>结论</strong></h2>
<p>Linux中的AWK命令使程序员能够以语句的形式编写有用的程序，这些语句定义了要在文件的每一行中搜索的特定模式，以及当在一行中找到匹配时要采取的动作。Unix中的AWK命令用于模式处理和扫描。它搜索一个或多个文件，查看它们是否包含与指定模式匹配的行，然后执行相关的操作。</p>
<p><strong>人也在读:</strong></p>


									</div>

									</div>    
</body>
</html>