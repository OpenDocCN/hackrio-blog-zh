# 50 个最佳 SQL Server 面试问题和答案[更新]

> 原文：<https://hackr.io/blog/sql-server-interview-questions>

**结构化查询语言**或 SQL 是用于操作关系数据库的编程语言。一些流行的工具将这种技术与高效的专有应用程序相结合。一个这样的例子是**微软 SQL 服务器**。

由于 SQL Server 广受欢迎，许多 SQL 工作面试都要求对 SQL Server 有很好的理解。[学习 SQL Server](https://hackr.io/tutorials/learn-sql-server?ref=blog-post) 需要对以下方面有深入的了解:

*   数据库
*   服务器
*   数据库管理系统，如 MySQL、PostgreSQL 和 MongoDB，以及
*   [编程](https://hackr.io/blog/what-is-programming)

## **SQL Server 面试问答**

在这里，我们整理了一个 50 个最佳 SQL server 面试问题的列表，SQL/数据库管理方面的有志之士会发现这些问题非常有帮助。这些问题涵盖了从 SQL Server 基础到一些高级概念的所有内容。他们在这里:

#### **问题:请解释一下 SQL Server 中的两种认证模式。**

**答:**认证模式用于在 Microsoft SQL Server 中对用户进行认证。虽然在数据库引擎安装过程中会提示用户输入，但以后可以更改。我们可以在 SQL Server 中使用以下两种身份验证模式之一:

1.  **Windows 模式** -启用 Windows 身份验证，禁用 SQL Server 身份验证。为了进行鉴定，服务器获取计算机的用户名和密码。Windows 模式下禁用 SQL Server 身份验证。
2.  **混合模式** -启用 Windows 身份验证和 SQL Server 身份验证。在这种身份验证模式下，每个数据库都需要唯一的用户名和密码。

若要在身份验证模式之间切换，请转到 SQL Server 配置属性->工具->安全页面。

#### 问题:解释一下你将如何在 SQL Server 中创建一个表？

**答:**我们可以使用以下代码在 SQL Server 中创建一个表:

创建表 TableName(列 1 数据类型，列 2 数据类型，...，列数据类型)

例如，下面的代码:

```
create table Dummy
(
Name varchar(20), Address varchar(40), PhoneNo. nvarchar(12)
)
```

将创建一个有 3 列的虚拟表；姓名、地址和电话号码

#### **问题:您能解释一下 SQL Server Profiler 吗？**

**答:**系统管理员使用 SQL Server Profiler 工具来监控 SQL Server 中的事件。它用于:

*   创建跟踪。
*   找出查询中的错误并修复它们。
*   启动、停止、暂停和修改跟踪结果。
*   将跟踪结果存储在表中。
*   运行后观察跟踪结果。

SQL 事件探查器是一个 GUI，主要用于捕获和保存文件或表的一个或每个事件的数据，以便进行实时或未来的分析。

#### **问题:你知道什么是递归存储过程吗？**

**回答:** SQL Server 提供了一种调用自身的[存储过程](https://hackr.io/blog/stored-procedures)。这称为递归存储过程。在这里，解决方案反复出现。最多可以嵌套 32 层存储过程。递归存储过程可以直接或间接调用。

我们可以通过以下两种方式在存储过程中实现递归:

1.  **链式递归:**为了实现链式递归，对相互递归过程进行了扩展。
2.  **相互递归:**间接递归是使用相互递归存储过程实现的。

#### **问题:画一个局部和全局临时表的比较。**

**回答:**全局临时表对所有用户可见。当创建它们的连接关闭时，它们将被删除。另一方面，本地临时表只有在有连接时才可见。一旦连接关闭，这些就会被删除。

#### **问题:SQL Server 中有哪些约束？**

**答:**约束是管理数据库表允许的数据类型的一组规则。Microsoft SQL Server 中总共有 6 个约束:

1.  支票
2.  默认
3.  外键
4.  不为空
5.  主关键字
6.  独一无二的

#### 问题:请解释检查约束。

**答案:**检查约束强制完整性。它应用于表中的一列，用于限制可以插入该列的值。应用 CHECK 约束的列只能有一些特定的值。以下是在 SQL Server 数据库中应用 CHECK 约束的示例:

```
CREATE TABLE Dummy
(
S.No. int,
Name varchar(255),
Age int,
CONSTRAINT CHK_Dummy CHECK (Age>17)
);
```

#### 问题:可以将 SQL Server 链接到其他服务器吗？

**答:**是的，可以将 SQL Server 连接到任何支持 OLE-DB provider 的数据库服务器。支持 OLE-DB 访问接口的数据库服务器有:

*   IBM Informix
*   Microsoft Access
*   Oracle 数据库

#### 问题:请解释子查询及其属性。

**答:**可以嵌套在主查询内部的查询，比如 Select 或 Update 语句，称为子查询。当允许使用表达式时，可以使用子查询。子查询也称为内部查询。子查询的属性包括:

*   它可以选择添加 GROUP BY、HAVING 和 WHERE 子句。
*   它可以添加到 FROM、SELECT 和 WHERE 子句中。
*   它必须放在主查询的比较运算符的右侧。
*   它应该用括号括起来。这是因为它在主查询之前执行。
*   它不应该有 ORDER BY 子句。
*   可以有多个子查询。

#### 问:你能解释一下子查询的类型吗？

**答:**子查询有三种类型:

1.  **单行子查询** -仅返回单行。
2.  **多行子查询** -返回多行。
3.  **多列子查询** -返回多列。

[完整的 SQL Bootcamp 2023:从零到英雄](https://click.linksynergy.com/deeplink?id=jU79Zysihs4&mid=39197&murl=https%3A%2F%2Fwww.udemy.com%2Fcourse%2Fthe-complete-sql-bootcamp%2F)

#### 问题:SQL Server 代理的用途是什么？

**答:**SQL Server 代理的目的是实现与调度引擎一致的任务。这使得作业在预定的日期和时间运行。SQL Server 代理是一个后台工具，即它作为 Windows 服务继续在后台运行。

因此，SQL server 代理在 SQL Server 管理员完成常见任务的过程中起着重要的作用。因此，它是 SQL Server 的一个基本组件。

#### 问题:请解释一下微软 SQL Server 中的计划任务。

**答:**对于可以在指定的固定时间间隔运行的自动化流程，我们使用预定的任务或作业。这有助于减少所需的人工干预。用户还可以决定这些计划任务的执行顺序。

#### 问:解释一下 SQL Server 是如何处理异常的？

**答:**我们使用 TRY - CATCH 构造来处理 SQL Server 中的异常。条件写在 TRY 块中，异常在 CATCH 块中被捕获。

#### **问题:SQL Server 中有哪些功能？**

**答:**SQL Server 中的函数是预定义的做某件事的方法。关于 SQL Server 函数，必须注意以下几点:

*   它们每次都被编译。
*   它们可以在任何地方使用。
*   他们不允许使用 try 和 catch 语句。
*   它们必须返回一些值或结果。
*   它们仅适用于输入参数。
*   它们仅适用于 SELECT 语句。

SQL Server 中有两种类型的函数；内置和用户自定义。SQL Server 函数必须返回结果。当我们在 SQL Server 中使用函数时，它必须指定一个返回值类型。Microsoft SQL Server 有一系列内置函数。它们分类如下:

*   表值函数
*   标量值函数
*   聚合函数
*   系统功能

*   聚合函数
*   配置功能
*   光标功能
*   数据和时间函数
*   数学函数
*   元数据函数
*   其他功能
*   层次结构 Id 函数
*   行集函数
*   安全功能
*   字符串函数
*   系统统计功能
*   文本和图像功能

#### **问题:地板功能有什么用？**

**答案:**当需要将一个非整数值向上舍入到前一个整数时，使用 FLOOR 函数。例如，FLOOR (12.8)将返回 12。

#### 问:你将如何检查 SQL Server 数据库中的锁？

**回答:**微软 SQL Server 自带一个名为 sp_lock 的内置存储过程，用于检查数据库中的锁。

#### **问题:为什么我们有符号功能？它返回什么？**

**答案:**SIGN 函数检查一个给定的数是正数、负数还是零。它返回:

*   当数字为正数时为+1，
*   当数字为负数时为-1，并且
*   当数字为零时为 0。

#### 问:请区分 UNION 和 UNION ALL 命令。

**答:**UNION 命令用于从两个表中选择相似的信息。UNION ALL 命令做同样的事情，但是选择所有可用的值，并且不消除重复的行。

#### **问题:CHARINDEX 和 SUBSTR 函数有什么区别？**

**答:**SUBSTR 函数返回给定字符串的某个特定部分，CHARINDEX 函数返回给定字符串中某个字符的字符位置。比如 SUBSTRING ('STRING '，1，3)会返回 Si，CHARINDEX ('i '，' String '，1)会返回 4。

#### 问题:动态 SQL 和存储过程有什么不同？

**回答:**存储过程和动态 SQL 都是一组语句。虽然存储过程以编译后的形式存储在数据库中，但动态 SQL 是在运行时动态构造的。它们不会在动态构造后的运行时被存储和执行。

#### 问题:你能解释一下校对吗？

**答:** Collation 指定数据库表中的排序顺序。它有三种类型:

1.  二进制的
2.  区分大小写
3.  不分大小写

#### **问:如何获取微软 SQL Server 的版本信息？**

**答:**我们在 SQL Server 中使用以下命令来获取版本信息:

```
Select SERVERPROPERTY('productversion')
```

#### 问:为什么我们要使用 SET NOCOUNT ON/OFF 语句？

**答案:**no count 默认设置为 OFF。它返回执行命令时受影响的记录总数。当不需要显示受影响的记录数时，可以显式打开它。

#### **问题:你能解释一下 SQL Server 中的魔术表吗？**

**答:** SQL Server 在进行删除、插入、更新等 [DML 操作](https://hackr.io/blog/sql-commands)时，会自动创建临时表。这些被称为魔术桌。触发器使用它们进行数据事务。

#### **问题:SQL Server 中的触发器是什么意思？**

**答案:**在 SQL Server 中，触发器是类似于存储过程的数据库对象。这些特殊类型的存储过程在各自的数据库中发生特定事件时触发。触发器有三种类型:

1.  **DDL 触发器**——触发以 Alter、Create 和 Drop 开始的 DDL 命令事件。
2.  **DML 触发器** -触发以删除、插入和更新开始的 DML 命令事件。

触发器被绑定到表并自动执行。没有明确调用它们的规定。它们提供数据完整性，用于在修改前和修改后访问和检查数据。

#### 问题:如何在 SQL Server 中更新数据库？

**回答:**我们可以通过使用 Update 命令来实现。它可以用于添加或删除新列，替换列中的信息等。UPDATE 命令的一般语法是:

```
UPDATE TableName SET ColumnName = NewData where Condition
```

#### 问题:你能解释一下 SQL Server 中的关系吗？

**答:**SQL Server 中使用关系来链接不同表的列。这些有三种类型:

1.  **一对一**——一个表中的一个列在另一个表中有一个依赖列。
2.  **一对多/多对一** -一个表中的一个列在另一个表中有多个依赖列(一对多)。一个表中的多个列在另一个表中有一个独立的列(多对一)。
3.  **多对多**——一个表中的多个列在另一个表中有多个依赖列。

#### **问题:请解释一下数据库规范化的概念。**

**答案:** [数据库规范化](https://hackr.io/blog/dbms-normalization)指的是在关系数据库中组织表的过程，以最小化冗余和依赖性。它还提高了表的完整性和性能。

规范化包括将较大的表分成较小的表，并定义这些表之间的关系。数据库规范化过程遵循以下层次结构:

1.  第一范式
2.  2NF(第二范式)
3.  3NF(第三范式)
4.  BCNF(博伊斯-科德范式)
5.  4NF(第四范式)
6.  5NF(第五范式)
7.  6NF(第六范式)

#### **问题:请解释一下微软 SQL Server 中索引的概念？**

**回答:**当数据庞大时，数据库表不足以高效地处理这些数据。因此，我们对其中的列(或视图)进行索引。从技术上讲，索引是由 DBMS 创建和维护的数据库对象。

被索引的列称为索引列。这些是有序的，因此支持快速搜索。一个数据库表可以有多个索引。SQL Server 有两种类型的索引:

1.  **聚集索引**——这种类型的索引基于键对数据进行排序和存储。由于行只能按一种顺序排序，因此可以在一个表中只定义一次聚集索引。不允许 Image、Text 和 nText 数据作为聚集索引。
2.  **非聚集索引**——这是在数据库表之外创建的索引。在 SQL Server 中，每个表最多可以有 999 个非聚集索引，其中每个索引最多可以有 1023 列。像聚集索引一样，它们不支持图像、文本和 nText 形式的数据。

#### 问:你能解释一下 SQL Server 中的连接吗？

**答:**当需要从多个表中检索数据时，我们在数据库操作中使用连接。检索的数据取决于两个因素:

*   使用的联接类型，以及
*   不同表的列之间的关系。

SQL Server 具有以下类型的联接:

1.  完全连接
2.  内部联接/自联接/简单联接
3.  外部连接

1.  左外部连接
2.  右外部联接
3.  完全外部连接

#### **问题:你对微软 SQL Server 中的数据库引擎了解多少？**

**答案:**SQL Server 数据库引擎就像 SQL Server 代理和其他 SQL Server 组件一样，是作为数据库服务运行的。操作系统一启动，数据库服务就启动。

默认情况下启动哪些数据库服务是在 SQL Server 安装过程中定义的。服务提供核心操作系统特性，如事件日志、文件服务和 web 服务。

#### **问题:请解释 Microsoft SQL Server Analysis Services。**

**回答:**微软 SQL Server Analysis Services 或 SSAS 是一款基于 web 的分析处理和数据挖掘工具。它旨在允许数据库管理员:

*   对分布在众多数据库、表格和文件中的数据进行分析。
*   为决策者提供对可用信息的方便快捷的访问。

SSAS 通过允许数据库管理员创建、设计和管理包含从各种数据源聚合的数据的多维结构，提供了 OLAP。

内置的 SQL Server 工具还具有一系列数据挖掘算法，可以从不同的来源挖掘数据。只要一个查询被应用，SSAS 就能从不同的数据源提供快速的结果。Analysis Services 依赖于客户端-服务器体系结构。

*   **客户端架构** - SASS 采用瘦客户端组件架构。因为所有的计算和查询都只能由服务器来解决，所以每个请求都需要一个服务器到客户端的连接。几个提供商提供 SSAS 来支持[各种编程语言](https://hackr.io/blog/best-programming-languages-to-learn)。这些提供者之间的通信是使用 SOAP 包实现的。
*   服务器架构——Msmdsrv.exe 是 SSAS 的一个应用。它是作为 Windows 服务运行的服务器组件。它由许多组件组成，包括一个查询处理器和一个 XMLA 侦听器。Msmdsrv.exe 执行以下操作:

*   缓存对象，
*   创建聚合，
*   处理交易，
*   管理元数据，
*   管理服务器资源，
*   解析从客户端接收的语句，
*   处理计算，
*   调度查询，以及
*   存储维度和单元数据。

#### **问题:什么是数据库中的反规范化？**

**答案:**反规范化是为了优化性能而有意在数据库表中引入冗余数据的过程。这一过程在提高读取性能的同时降低了写入性能。

注意，非规范化和反规范化的数据库是完全不同的概念。未规范化的数据库是指没有被规范化的数据库。另一方面，反规范化的数据库是先规范化然后反规范化的数据库。

#### 问:请解释一下备用服务器的概念。它有哪些类型？

**答:**当主数据库服务器离线，并且一个依赖的应用程序持续需要它时，备用数据库服务器会接替它的位置。备用服务器有三种类型:

1.  **热备用**——主服务器和备用服务器都串联运行。在这种情况下，两台服务器包含相同的信息。
2.  **热待机**——这里，备用服务器运行在主服务器的后台。主服务器包含的数据会定期镜像到备用服务器。
3.  **冷备用**——在这个场景中，只有当主服务器出现故障时，备用服务器才会被调用。这种类型的备用服务器用于以下情况:

1.  数据没有频繁变化，或
2.  reliant 应用程序是非关键的。

#### **问题:微软 SQL Server 运行在哪个 TCP/IP 端口？有没有可能变的一样？**

**答案:**SQL Server 运行在 1433 端口。是的，有可能改变它。我们可以通过网络实用程序 TCP/IP 属性来更改它。

#### **问题:什么是 SQL Server 中的 DBCC？我们为什么要用它？**

**答:** DBCC 的意思是**D**ATA**b**ase**C**consistency**C**hecker。这是一个 SQL Server 命令，用于检查数据库的一致性。它有助于:

*   监控和审查数据库和表格的维护，或
*   用于验证在数据库或表上执行的操作。

执行 DBCC 命令时，数据库引擎会创建数据库快照，并继续保持一致的事务状态。之后，数据库引擎对该存储的数据库快照运行检查，并在完成该命令后删除该快照。以下是使用 DBCC 命令的一些示例:

*   **DBCC 检查分配**——检查并确保数据库中的所有页面都被正确分配。
*   **DBCC CHECKDB**——确保数据库中的所有表和索引正确链接。
*   **DBCC 检查文件组** -检查所有表文件组的损坏情况。

#### 问题:你能解释一下日志传送吗？

**答:**日志传送是指在主数据库服务器上自动备份数据库和事务日志文件，然后在备用服务器上恢复它们的过程。这种技术受到几种流行的数据库服务器的支持，例如:

*   4D 服务器
*   Microsoft SQL Server
*   关系型数据库
*   一种数据库系统

日志传送的主要目的是提高数据库的可用性。应用日志备份，尤其是在每个辅助数据库上。日志传送包括以下 3 个步骤:

*   **步骤 1** -在主服务器实例上备份事务日志文件。
*   **步骤 2**——在辅助服务器实例上复制日志文件。
*   **步骤 3** -将日志备份文件恢复到辅助服务器实例上。

#### **问题:请解释 Microsoft SQL Server 中不同类型的复制。**

**答:**复制是数据库服务器中用于提高数据库可用性的一种技术。在 Microsoft SQL Server 中有三种类型:

1.  **合并复制**——将不同来源的数据分组到一个单一的集中式数据库中。合并复制通常在服务器到客户端环境中使用，适用于多个订阅服务器在不同时间更新相同数据的情况。
2.  **快照复制** -它以与数据在某个时间点出现时相同的方式分发数据。在数据不经常变化的情况下，这是最合适的复制技术。
3.  **事务复制**——它是将数据从发布者分发到订阅者的过程。通常用于服务器对服务器的环境。非常适合需要将增量更改传播到订阅服务器的情况。

**回答:**微软 SQL Server 是领先的数据库管理系统之一。因此，同样的第三方工具并不少见。以下是一些最受欢迎的:

*   **Quest Soft 的 LiteSpeed**-用于准备备份和恢复。
*   **red gate 的 SQL Backup 10**——用于自动化 SQL Server 备份过程。
*   **Idera 的 SQL 检查**——用于监控服务器活动和内存水平。
*   **RedGate 的 SQL Doc 2**-用于记录数据库。
*   **red gate 的 SQL 提示** -为 SQL Server 提供智能感知。

在 Microsoft SQL Server 中使用第三方工具有几个好处，包括:

*   更好的见解和信息。
*   增强了事务日志和事务日志备份的可见性。
*   备份和恢复环境的企业视图。
*   更快的备份和恢复。
*   灵活的备份和恢复选项。
*   单个数据库对象的恢复。
*   节省时间。
*   加密安全备份。

#### **问题:您对 SQL Server 中的补丁和修补程序有什么理解？**

**答:**补丁是用来修复系统中某个(些)问题并保证同样安全的程序。修补程序是微软发布的专有补丁。这些旨在解决不同的问题，主要是最近发现的安全缺陷。

修补程序主动应对错误。这是因为它们被设计成应用于实时系统。修补程序可以是单个文件或多个文件。

#### **问题:请列举 SQL Server 中最常用的跟踪标志。**

**答:**跟踪标志对于 SQL Server 就像 if 语句对于编程语言一样。跟踪标志为 SQL Server 设置特定的特征。SQL Server 中最常用的跟踪标志有:

*   1118 -强制统一区分配，而不是混合页分配
*   1204、1205、1222 -死锁信息
*   1807 -网络数据库文件
*   4013 -连接的日志记录
*   4022 -跳过启动存储过程
*   8755 -禁用锁定提示

#### **问题:SQL Server 中的各种加密机制是什么？**

**答:** SQL Server 提供了对一系列加密机制的支持，以保护数据。这些是:

*   非对称密钥
*   证书
*   对称密钥
*   Transact-SQL 函数
*   透明数据加密

#### **问题:请解释一下过滤后的指数。**

**答案:**用 WHERE 子句创建的索引称为过滤索引。它用于过滤表中的某些行。这有助于提高索引维护和查询性能，并降低索引存储成本。

#### **问题:能否解释一下 SQL Server 中的一些服务？**

**回答:** Microsoft SQL Server 提供了一系列服务，可以高效地处理大型数据库。其中一些是:

*   **数据质量服务** - DQS 有助于执行一系列数据质量任务，如校正、丰富和标准化。它为解决数据质量问题提供了以下功能:

*   数据清理
*   知识库
*   相称的
*   分析和监控
*   参考数据服务

*   **集成服务**——一个开发高性能数据集成和工作流解决方案的平台，例如[数据仓库](https://hackr.io/blog/star-schema-in-data-warehouse)的 ETL 操作。包括用于构建和调试包的图形工具和向导。
*   **主数据服务** - MDS 应对分析和运营主数据管理的挑战。它提供了一个主数据中心，用于集中维护、管理和组织主数据。MDS 建立在 SQL Server 和 WCF(Windows Communication Foundation)API 之上。
*   **Reporting Services**——一个报表平台，包括基于 SQL Server Reporting Services 多层架构的处理组件。处理组件相互交互以检索数据并提供报告。Reporting services 有两个基本组件:

*   处理器，以及
*   扩展ˌ扩张

#### 问题:请解释一下微软 SQL Server 中的 COALESCE。

**答案:**COALESCE 函数返回具有多列的参数中的第一个非空表达式。该函数接受所有类型的值，但只返回表达式中的非空值。常规语法:

COALESCE(表达式 1，表达式 2，表达式 3，.......，表达式 n)

#### 问:你知道哪个 SQL Server 表保存着存储过程脚本吗？

**答案:**存储过程脚本存储在 Sys。SQL _ 模块表。但是，存储过程的名称存储在 Sys。程序表。

#### 问题:请解释提交和回滚命令。

**答:**伴随提交命令的语句在数据库中变得持久。另一方面，带有 ROLLBACK 命令的语句被恢复到以前的状态。

#### **问题:nvarchar 和 varchar 有什么不同？**

**回答:**varchar 和 nvarchar 的数据类型都差不多。两者的区别在于，nvarchar 可以存储不同语言的 Unicode 字符，而 varchar 不能。此外，与 varchar 数据类型相比，nvarchar 需要更多空间。

#### **问题:你能说出 GETDATE 和 SYSDATETIME 函数的区别吗？**

**答:**两个命令执行相同的操作，即获取当前日期和时间。两者的区别在于，GETDATE 给出的时间是毫秒，而 SYSDATETIME 给出的是纳秒。因此，SYSDATETIME 更准确。

#### 问:你知道 SQL Server 把用户名和密码存放在哪里吗？

**答案:**SQL Server 中的用户名和密码存储在 sys.server_principals 和 sys.sql_logins 中。用户名以普通文本形式存储，而密码以加密形式存储。

## 结论

这就完成了我们的 50 个最佳 SQL Server 面试问题列表。这些问题将帮助您为即将到来的基于数据库/SQL 的面试做准备，或者根据您的 DBMS/SQL Server 知识对自己进行自我评估。你可能还想看看 [SQL 书籍](https://hackr.io/blog/best-sql-books)和 [SQL 课程](https://hackr.io/blog/best-sql-courses)供你参考。

你喜欢吗？通过评论让我们知道。万事如意！

**人也在读:**