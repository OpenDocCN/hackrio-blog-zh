<html>
<head>
<title>Beginner’s Guide to JavaScript Map Array | Array Map() Method</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>JavaScript Map Array | Array Map()方法入门指南</h1>
<blockquote>原文：<a href="https://hackr.io/blog/javascript-map#0001-01-01">https://hackr.io/blog/javascript-map#0001-01-01</a></blockquote><div><div class="content">
										<p>JavaScript array.map()方法创建一个由元素组成的<strong>新数组</strong>，这些元素是对调用数组中的每个元素调用回调函数的结果。</p>
<p>当您需要对数组的元素应用一些逻辑，但又想保持原始数组不变时，此方法很有用。因此，当我们应用这个方法时，我们用修改后的元素生成一个新的数组，同时保留原来的数组。</p>
<ul>
<li aria-level="1">原始数组不会改变，因为它是一种复制方法</li>
<li aria-level="1">回调函数只在非空数组索引上调用</li>
</ul>
<p><img src="../Images/a4fe760ab67b6ae911b659807cf371d5.png" alt="Mapping Functions in Javascript" data-original-src="https://cdn.hackr.io/uploads/posts/attachments/1669109122ra3x2bTP1Q.png"/></p>
<p>阅读完本文后，您将对JavaScript Array Map()方法及其用例、语法和示例有所了解。您还将了解JavaScript Map(在ES6中引入)，以及它的用例、语法和示例。我们还将查看WeakMaps和对象，并将它们与JavaScript Map进行比较。</p>

<h2 id="syntax-of-array-map"><strong>array . map()</strong>的语法</h2>
<pre class="language-javascript"><code>// array
const arr = [1, 4, 9]
 
// Arrow function
arr.map((element) =&gt; { /* execute this */ })
arr.map((element, index) =&gt; { /* execute this */ })
arr.map((element, index, arr) =&gt; { /* execute this */ })
arr.map((element, index, arr) =&gt; { /* execute this */ }, thisVal)
 
// Inline callback function
arr.map(function(element) { /* execute this */ })
arr.map(function(element, index) { /* execute this */ })
arr.map(function(element, index, arr) { /* execute this */ })
arr.map(function(element, index, arr) { /* execute this */ }, thisVal)
 
// Callback Function
arr.map(callBackFunction)
arr.map(callBackFunction, thisVal)</code></pre>
<h2 id="parameters"><strong>参数</strong></h2>
<ul>
<li><strong> callBackFunction() </strong> -在每个数组元素上调用的函数。(必需)</li>
<li><strong>元素</strong> -当前元素的值。(必需)</li>
<li><strong>索引</strong> -当前元素的索引。(可选)</li>
<li><strong> arr </strong> -当前元素的数组。(可选)</li>
<li><strong> thisVal </strong> -传递给函数用作“this”的值。如果未提供该参数，<strong>未定义的</strong>将被用作“此”值。</li>
</ul>
<h2 id="javascript-array-map-examples"><strong> Javascript array.map()示例</strong></h2>
<p><strong>使用箭头功能:</strong></p>
<pre class="language-javascript"><code>const array1 = [1, 2, 8, 10, 15];
 
// Arrow function to map
const map1 = array1.map(x =&gt; x * 2);
 
console.log(map1);
// expected output: Array [2, 4, 16, 20, 30]
</code></pre>
<p><strong>使用回调函数:</strong></p>
<pre class="language-javascript"><code>const callBackFunction = (arr) =&gt; {
   return arr + 1;
};
 
const array1 = [1, 2, 8, 10, 15];
 
// pass a function to map
const map1 = array1.map(callBackFunction);
 
console.log(map1);
// expected output: Array [2, 3, 9, 11, 16]
</code></pre>
<p>预期结果:map1 = [ 2，3，9，11，16 ]</p>
<p><strong>在物体上使用map()</strong></p>
<p><strong>代表购物清单的对象数组:</strong></p>
<pre class="language-javascript"><code>let shoppingList = [
   { item_name: "Apple", quantity: 5 },
   { item_name: "Banana", quantity: 2 },
   { item_name: "Milk", quantity: 4 },
   { item_name: "Pears", quantity: 3 }
];
</code></pre>
<p>迭代对象数组:</p>

<ul>
<li aria-level="1">对象数组中的每个对象都作为回调函数中的函数参数进行访问。地图()</li>
<li aria-level="1">对象属性可以被分解或直接访问。</li>
</ul>
<pre class="language-javascript"><code>// Iterating over array of objects
shoppingList.map(({ item_name, quantity }) =&gt; {
   console.log(`Item name: ${item_name}, Quantity: ${quantity}`);
  }
);
// Expected Output
// Item name: Apple, Quantity: 5
// Item name: Banana, Quantity: 2
// Item name: Milk, Quantity: 4
// Item name: Pears, Quantity: 3
</code></pre>
<p>向每个购物清单对象添加一个属性:</p>
<ul>
<li aria-level="1">为了给购物列表中的每个对象添加一个新属性，您可以在return语句中使用JavaScript <strong> spread </strong>操作符</li>
<li aria-level="1">JavaScript spread运算符返回对象的现有属性和值</li>
<li aria-level="1">将现有属性与新属性组合，用添加的属性填充新数组</li>
</ul>
<pre class="language-javascript"><code>shoppingList = shoppingList.map(
   (item) =&gt; {
       // New Price Property
       const newProperty = "New Property";
       return {...item, newProperty: newProperty};
   }
);
 
console.log(shoppingList);
// Expected Output
// Shopping List with new property
// Item name: Apple, Quantity: 5, newProperty: New Property
// Item name: Banana, Quantity: 2, newProperty: New Property
// Item name: Milk, Quantity: 4, newProperty: New Property
// Item name: Pears, Quantity: 3, newProperty: New Property
</code></pre>
<p>从每个购物清单对象中删除属性:</p>
<ul>
<li aria-level="1">迭代数组中的每个对象，以永久删除该属性</li>
</ul>
<pre class="language-javascript"><code>shoppingList = shoppingList.map(
   (item) =&gt; {
       delete item.newProperty;
       return item;
   }
);
 
console.log(shoppingList);
// Expected Output
// Item name: Apple, Quantity: 5
// Item name: Banana, Quantity: 2
// Item name: Milk, Quantity: 4
// Item name: Pears, Quantity: 3
</code></pre>
<p><strong> JavaScript (ES6) - Map </strong></p>
<p>2015年，JavaScript (ES6)引入了一种新的数据结构，称为<strong>映射</strong>。不要与<strong>混淆。map() </strong> array方法我们刚刚讨论过，这是一个内置的数据结构，可以用来将数据存储为不同的有序键值对的集合。</p>
<p><img src="../Images/dbadb4fa5c5b4d0c9c16d2069c06d59e.png" alt="Javascript Map" data-original-src="https://cdn.hackr.io/uploads/posts/attachments/1668695276f75x61WRzI.png"/></p>
<p>创建新地图的一般语法:</p>
<pre class="language-javascript"><code>let items = new Map();</code></pre>
<p>这将创建一个名为<strong> items </strong>的变量，其值为<strong> new Map() </strong>。</p>
<p>我们创建的<strong> items </strong>变量包含一个空地图。</p>
<pre class="language-javascript"><code>let items = new Map();
 
console.log(items)
console.log(items.size)</code></pre>
<p><strong>输出:</strong></p>
<p><strong><img src="../Images/c5664dce6660bb4bd8acbe14b2f3d095.png" alt="Javascript Map Array" data-original-src="https://cdn.hackr.io/uploads/posts/attachments/1669953470lwFq7HvuwJ.jpg"/>T2】</strong></p>
<p>虽然这个新地图目前是空的，但在开始填充地图后，我们可以使用一些方法来处理数据。</p>
<p><strong>地图方法</strong></p>
<ul>
<li aria-level="1">map.set() -向映射添加一个键值对</li>
<li aria-level="1">map.has() -在检查指定的键当前是否在映射中后返回一个布尔值</li>
<li aria-level="1">map.get() -返回给定键的相应值</li>
<li aria-level="1">map.delete() -从映射中删除给定的键值对</li>
<li aria-level="1">map.clear() -从映射中删除所有键值对</li>
</ul>
<p><strong>使用地图方法</strong></p>
<p>我们将使用之前的购物清单示例来探索地图数据结构。</p>
<p><strong>使用map.set() </strong></p>
<pre class="language-javascript"><code>let shoppingList = new Map();
 
shoppingList.set("apple", 2);
shoppingList.set("banana", 5);
shoppingList.set("milk", 4);
shoppingList.set("pears", 3);
 
// iterating the Map
shoppingList.forEach((val, key) =&gt; {
   console.log(`Item: ${key}, Quantity: ${val}`);
   }
);
// logging the Map size
console.log(`Number of Items: ${shoppingList.size}`);</code></pre>
<p><strong>输出:</strong></p>
<p><strong><img src="../Images/62ad757dba308ee6814d5cfd593132a0.png" alt="Using map.set()" data-original-src="https://cdn.hackr.io/uploads/posts/attachments/1669953556kcXs1FTxxH.jpg"/>T2】</strong></p>
<p>在对Map进行迭代之后，我们可以看到设置的每个键-值对。我们还可以访问size属性来查看它是如何被更新以反映新数据的。</p>
<p><strong>使用map.has() </strong></p>
<pre class="language-javascript"><code>console.log(shoppingList.has("milk")); // True
console.log(shoppingList.has('oranges')); // False</code></pre>
<p><strong>输出:</strong></p>
<pre class="language-javascript"><code>node /tmp/Tk3BQDiIQ6.js
true
false
</code></pre>
<p>这表明对于Map对象中的键返回true，对于不在Map中的键返回false。</p>
<p><strong>使用map.get() </strong></p>
<pre class="language-javascript"><code>console.log(shoppingList.get("apple")); // 2
console.log(shoppingList.get("oranges")); // undefined</code></pre>
<p><strong>输出:</strong></p>
<pre class="language-javascript"><code>node /tmp/Tk3BQDiIQ6.js
2
undefined
</code></pre>
<p>这里我们可以看到。当我们传递一个不在映射内的键时，get()返回undefined。</p>
<p><strong>使用map.delete() </strong></p>
<pre class="language-javascript"><code>// deleting the milk from the Map
shoppingList.delete("milk");
// iterating the Map
shoppingList.forEach((val, key) =&gt; {
   console.log(`Item: ${key}, Quantity: ${val}`);
   }
);
// logging the Map size
console.log(`Number of Items: ${shoppingList.size}`);</code></pre>
<p><strong>输出:</strong></p>

<pre class="language-javascript"><code>node /tmp/Tk3BQDiIQ6.js
Item: apple, Quantity: 2
Item: banana, Quantity: 5
Item: pears, Quantity: 3
Number of Items: 3
</code></pre>
<p><strong> </strong></p>
<p>更新后的地图反映出“milk”键的数据已被删除。</p>
<p><strong>使用map.clear() </strong></p>
<pre class="language-javascript"><code>shoppingList.clear();
console.log(shoppingList);
console.log(shoppingList.size);</code></pre>
<p><strong>输出:</strong></p>
<pre class="language-javascript"><code>node /tmp/Tk3BQDiIQ6.js
Map {}
0
</code></pre>
<p>现在我们可以看到整个地图都被清空了，这意味着地图是空的，大小为零。</p>
<h2 id="es6-javascript-map-vs-objects"><strong> ES6 JavaScript地图vs对象</strong></h2>
<p>JavaScript对象非常类似于ES6映射，因为它们都允许您存储键-值对的集合、检索值、删除键，以及检测是否有东西存储在键级别。</p>
<p>长期以来，JavaScript对象一直被用来表示地图。然而，在对象和贴图之间有一些重要的区别，你在决定两者之间的时候应该考虑。</p>
<h3 id="pros-for-map"><strong>地图的优点</strong></h3>
<ul>
<li aria-level="1">对象键只能是字符串、整数和符号数据类型，而映射键可以是任何数据类型</li>
<li aria-level="1">地图的大小可以很容易地获取，而对象的大小必须手动跟踪</li>
<li aria-level="1">Map.has('key ')方法允许您检查具有特定键的元素是否存在</li>
<li aria-level="1">该地图具有按顺序迭代的功能，其中元素的原始顺序保持不变。这确保了在所有浏览器中的相同性能</li>
</ul>
<h3 id="cons-for-map"><strong>地图的缺点</strong></h3>
<ul>
<li aria-level="1">地图需要更多的内存</li>
<li aria-level="1">JSON支持对象，但不支持地图</li>
<li aria-level="1">Map纯粹是一个哈希表，而对象为其元素提供逻辑功能</li>
</ul>
<h2 id="es6-javascript-map-vs-weakmap"><strong> ES6 JavaScript地图vs WeakMap </strong></h2>
<p>与JavaScript Map非常相似，WeakMap也在ES6中引入。这允许您存储一组键值对，并且它采用Map对象的相同属性。</p>
<p>两者的主要区别在于WeakMap键必须是Object数据类型。另一个区别是WeakMap的键是<strong>弱</strong>引用的。这意味着当一个对象被用作WeakMap键时，它可以被垃圾回收。</p>
<p>例如，如果对一个对象的引用丢失了(对象引用被赋值为NULL)，那么JavaScript垃圾收集器会检测到该对象不再被使用，并将它从内存中释放出来。</p>

<p><strong>weak map方法:</strong></p>

<ul>
<li aria-level="1">。delete() -删除与键相关联的任何值</li>
<li aria-level="1">。set() -设置WeakMap中给定键的值</li>
<li aria-level="1">。get() -返回与键相关联的值，如果键不存在，则返回“未定义”</li>
<li aria-level="1">。has() -在检查指定的键当前是否在WeakMap中后返回一个布尔值</li>
</ul>
<h3 id="weakmap-example"><strong> WeakMap示例</strong></h3>
<pre class="language-javascript"><code>// Creating a WeakMap
const shoppingList = new WeakMap();</code></pre>
<p>上面的代码创建了一个新的WeakMap。</p>
<p><strong>使用weakmap.set() </strong></p>
<pre class="language-javascript"><code>appleObj = { "quantity": 5, "price": 1.5 };
milkObj = { "quantity": 2, "price": 3 };
 
shoppingList.set(appleObj, "Apple");
shoppingList.set(milkObj, "Milk");</code></pre>
<p>这里我们创建了两个对象，一个是苹果，一个是牛奶。这些被作为钥匙添加到了WeakMap中。</p>
<p><strong>记录WeakMap: </strong></p>
<pre class="language-javascript"><code>// Print the WeakMap
console.log(shoppingList); </code></pre>
<p><strong>输出:</strong></p>
<p><strong><img src="../Images/8c6ba6639abb0f82d12e23839ad71385.png" alt="Logging the WeakMap" data-original-src="https://cdn.hackr.io/uploads/posts/attachments/1669954219b6QTEXRAGM.jpg"/>T2】</strong></p>
<p>在控制台记录了WeakMap的数据之后，我们可以看到添加到WeakMap中的每个密钥对条目。</p>
<p><strong>利用。get() </strong></p>
<pre class="language-javascript"><code>// Using get() function to get
// specific element in WeakMap
console.log(shoppingList.get(appleObj));</code></pre>
<p><strong>输出:</strong></p>
<pre class="language-javascript"><code>Apple</code></pre>
<p>打电话。appleObj键上的get()返回存储的值“Apple”。</p>

<p><strong>利用。删除()</strong></p>

<pre class="language-javascript"><code>// Use delete() function
shoppingList.delete(milkObj);
// Pring the WeakMap
console.log(shoppingList)</code></pre>
<p><strong>输出:</strong></p>
<p><strong><img src="../Images/d6204b8705da8a31e27e672cedb1a283.png" alt="Using .delete()" data-original-src="https://cdn.hackr.io/uploads/posts/attachments/1669954111p8pGYGE5qA.jpg"/>T2】</strong></p>
<p>打完电话。delete()在milkObj键上，我们已经从WeakMap中删除了键和相关的值。我们可以看到WeakMap中唯一的条目是appleObj键和相关的值“Apple”。</p>
<p><strong> Using.has() </strong></p>
<pre class="language-javascript"><code>// Using has() function to check
// if a particular element is
// present in WeakMap or not.
console.log(shoppingList.has(milkObj)); // False
console.log(shoppingList.has(appleObj)); // True</code></pre>
<p><strong>输出:</strong></p>
<pre class="language-javascript"><code>node /tmp/Tk3BQDiIQ6.js
false
true
</code></pre>
<p>我们可以看到，对于milkObj键，控制台日志输出显示false，因为它已被删除，但是对于appleObj键，它输出true，因为它仍然存在于我们的WeakMap中。</p>
<h2 id="summary-javascript-map-array-javascript-es6-map"><strong>摘要- JavaScript Map数组| JavaScript ES6 Map </strong></h2>
<p>总之，我们已经知道JavaScript Map Array是一种迭代方法，在调用数组的元素上执行回调函数后返回一个新数组。然后我们讨论了这种方法的语法和用例。我们还学习了ES6 JavaScript Map和WeakMap，它们是键值对的内置JavaScript数据结构。然后我们讨论了这些结构的语法、用例以及方法。</p>
<p>考虑看看这些<a href="https://hackr.io/tutorials/learn-javascript?ref=blog-post">最好的JavaScript教程</a>来帮助你进一步提高你的JS技能。</p>
<p>有任何与JavaScript Map相关的查询吗？请在评论中告诉我们！我们会尽力帮助你。</p>
<p><a class="btn btn-primary btn-call-to-action btn-block" href="https://click.linksynergy.com/link?id=jU79Zysihs4&amp;offerid=1045023.1345036&amp;type=2&amp;murl=https%3A%2F%2Fwww.udemy.com%2Fcourse%2Fthe-complete-javascript-development-course-%2F" target="_blank" rel="noopener">ES6的完整现代Javascript课程</a></p>
<h2 id="frequently-asked-questions"><strong>常见问题解答</strong></h2>
<h4 id="toc-1-what-is-a-javascript-map"><strong> 1。什么是JavaScript地图？</strong></h4>
<p>JavaScript映射是具有键值对构造函数的可迭代对象，该构造函数看起来像2D数组，但行为像一个对象。它们为键提供了比对象更好的灵活性，因为它们可以是任何数据类型。(不要与JavaScript数组映射方法混淆)</p>
<h4 id="toc-2-how-do-you-map-an-element-in-javascript"><strong> 2。如何在JavaScript中映射一个元素？</strong></h4>
<p>我们可以使用数组映射方法映射JavaScript数组中的每个元素:array . map((current value)= &gt; {<em>/* execute this */</em>})</p>
<h4 id="toc-3-is-map-part-of-es6"><strong> 3。地图是ES6的一部分吗？</strong></h4>
<p>作为ES6版本的一部分，JavaScript社区引入了一个名为Map的新数据集合。与JavaScript对象类似，Map保存任何类型的键-值对，并且它还维护迭代的键插入顺序。</p>
<h4 id="toc-4-are-maps-faster-than-objects"><strong> 4。地图比物体快吗？</strong></h4>
<p>在存储大型数据集时，JavaScript Maps的性能往往优于对象，尤其是在运行时才知道键的情况下，以及键的数据类型和值的数据类型都相同的情况下。</p>
<h4 id="toc-5-is-a-javascript-map-a-hashmap"><strong> 5。JavaScript映射是散列表吗？</strong></h4>
<p>JavaScript映射可以表示为哈希表抽象数据类型。</p>
<p><strong>人也在读:</strong></p>


									</div>

									</div>    
</body>
</html>